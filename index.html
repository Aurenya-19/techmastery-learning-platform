<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TechMastery - Real Learning Platform</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
*{margin:0;padding:0;box-sizing:border-box}body{font-family:Inter,sans-serif;background:url('https://images.unsplash.com/photo-1451187580459-43490279c0fa?w=1920&q=80') center/cover fixed;color:#fff}body::before{content:'';position:fixed;inset:0;background:rgba(0,0,0,.7);backdrop-filter:blur(3px);z-index:-1}.app{display:flex;min-height:100vh}.sidebar{width:280px;background:rgba(17,24,39,.95);backdrop-filter:blur(10px);border-right:1px solid rgba(255,255,255,.1);padding:2rem 0;position:fixed;height:100vh;overflow-y:auto}.logo{display:flex;align-items:center;gap:1rem;padding:0 2rem;margin-bottom:3rem}.logo i{font-size:2rem;background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.logo h1{font-size:1.5rem}nav{display:flex;flex-direction:column;gap:.5rem;padding:0 1rem}.nav-item{display:flex;align-items:center;gap:1rem;padding:1rem 1.5rem;color:rgba(255,255,255,.7);text-decoration:none;border-radius:12px;transition:all .3s;cursor:pointer}.nav-item:hover{background:rgba(255,255,255,.05);color:#fff}.nav-item.active{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.badge{margin-left:auto;background:rgba(255,255,255,.2);padding:.25rem .75rem;border-radius:20px;font-size:.75rem}main{flex:1;margin-left:280px;padding:2rem;overflow-y:auto}.page{display:none}.page.active{display:block;animation:fadeIn .3s}@keyframes fadeIn{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}h2{font-size:2.5rem;margin-bottom:2rem;background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.stats{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem;margin-bottom:3rem}.stat{background:rgba(17,24,39,.8);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);border-radius:16px;padding:1.5rem;display:flex;gap:1.5rem;transition:transform .3s}.stat:hover{transform:translateY(-5px)}.stat-icon{width:60px;height:60px;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:1.5rem}.stat h3{font-size:2rem}.stat p{color:rgba(255,255,255,.6);font-size:.9rem;margin:.25rem 0 .75rem}.progress{width:100%;height:6px;background:rgba(255,255,255,.1);border-radius:10px;overflow:hidden}.progress div{height:100%;background:linear-gradient(90deg,#667eea,#764ba2);transition:width .5s}.activity{background:rgba(17,24,39,.8);border:1px solid rgba(255,255,255,.1);border-radius:16px;padding:2rem}.activity h3{margin-bottom:1.5rem}.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:2rem}.card{background:rgba(17,24,39,.8);border:1px solid rgba(255,255,255,.1);border-radius:16px;padding:1.5rem;cursor:pointer;transition:transform .3s}.card:hover{transform:translateY(-5px)}.filters{display:flex;gap:1rem;margin-bottom:2rem;flex-wrap:wrap}.filter{padding:.75rem 1.5rem;background:rgba(17,24,39,.8);border:1px solid rgba(255,255,255,.1);color:rgba(255,255,255,.7);border-radius:25px;cursor:pointer;transition:all .3s}.filter:hover{background:rgba(255,255,255,.05)}.filter.active{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,.9);z-index:1000;overflow-y:auto}.modal.active{display:block}.modal-content{background:rgba(17,24,39,.95);border:1px solid rgba(255,255,255,.1);border-radius:20px;padding:2rem;max-width:1200px;margin:2rem auto;position:relative}.close{position:absolute;right:1.5rem;top:1.5rem;font-size:2rem;color:rgba(255,255,255,.7);cursor:pointer;z-index:10}.close:hover{color:#fff}iframe{width:100%;height:500px;border-radius:12px;border:none;margin:1rem 0}textarea{width:100%;min-height:200px;padding:1rem;background:rgba(0,0,0,.3);border:1px solid rgba(255,255,255,.1);border-radius:8px;color:#fff;font-family:monospace;resize:vertical;font-size:14px}.btn{padding:.75rem 2rem;border:none;border-radius:8px;cursor:pointer;font-weight:600;transition:transform .2s;margin-top:1rem;margin-right:1rem}.btn:hover{transform:scale(1.05)}.btn-success{background:linear-gradient(135deg,#43e97b,#38f9d7);color:#fff}.btn-primary{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.module-list{margin-top:2rem}.module-item{background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.1);border-radius:12px;padding:1.5rem;margin-bottom:1rem;cursor:pointer;transition:all .3s}.module-item:hover{background:rgba(255,255,255,.08)}.module-item.completed{border-left:4px solid #43e97b}.module-item.active{background:rgba(102,126,234,.2);border-left:4px solid #667eea}.module-header{display:flex;justify-content:space-between;align-items:center}.lesson-content{margin-top:2rem;padding:2rem;background:rgba(0,0,0,.3);border-radius:12px}.test-case{padding:1rem;margin:.5rem 0;background:rgba(255,255,255,.05);border-radius:8px;border-left:3px solid rgba(255,255,255,.2)}.test-case.passed{border-left-color:#43e97b;background:rgba(67,233,123,.1)}.test-case.failed{border-left-color:#f5576c;background:rgba(245,87,108,.1)}.code-output{background:rgba(0,0,0,.5);padding:1rem;border-radius:8px;margin-top:1rem;font-family:monospace;white-space:pre-wrap;min-height:100px}.quiz-option{padding:1rem;margin:.5rem 0;background:rgba(255,255,255,.05);border:2px solid rgba(255,255,255,.1);border-radius:8px;cursor:pointer;transition:all .3s}.quiz-option:hover{background:rgba(255,255,255,.08)}.quiz-option.selected{border-color:#667eea;background:rgba(102,126,234,.2)}.quiz-option.correct{border-color:#43e97b;background:rgba(67,233,123,.2)}.quiz-option.wrong{border-color:#f5576c;background:rgba(245,87,108,.2)}.challenge-section{background:rgba(255,255,255,.03);border:1px solid rgba(255,255,255,.1);border-radius:12px;padding:1.5rem;margin:1.5rem 0}.challenge-section h3{color:#667eea;margin-bottom:1rem}.info-box{background:rgba(102,126,234,.1);border-left:4px solid #667eea;padding:1rem;border-radius:8px;margin:1rem 0}.warning-box{background:rgba(250,208,44,.1);border-left:4px solid #fad02c;padding:1rem;border-radius:8px;margin:1rem 0}.example-box{background:rgba(67,233,123,.1);border-left:4px solid #43e97b;padding:1rem;border-radius:8px;margin:1rem 0;font-family:monospace;white-space:pre-wrap}
</style>
</head>
<body>
<div class="app">
<aside class="sidebar">
<div class="logo"><i class="fas fa-graduation-cap"></i><h1>TechMastery</h1></div>
<nav>
<a class="nav-item active" data-page="dashboard"><i class="fas fa-chart-line"></i><span>Dashboard</span></a>
<a class="nav-item" data-page="courses"><i class="fas fa-book-open"></i><span>Courses</span><span class="badge">5</span></a>
<a class="nav-item" data-page="books"><i class="fas fa-book"></i><span>Books</span><span class="badge">20</span></a>
<a class="nav-item" data-page="videos"><i class="fas fa-video"></i><span>Videos</span><span class="badge">100</span></a>
<a class="nav-item" data-page="challenges"><i class="fas fa-code"></i><span>Challenges</span><span class="badge">500</span></a>
</nav>
</aside>
<main>
<div id="dashboard" class="page active">
<h2>üìä Dashboard</h2>
<div class="stats">
<div class="stat"><div class="stat-icon" style="background:linear-gradient(135deg,#667eea,#764ba2)"><i class="fas fa-book"></i></div><div><h3 id="booksRead">0</h3><p>Books Read</p><div class="progress"><div id="booksProgress"></div></div></div></div>
<div class="stat"><div class="stat-icon" style="background:linear-gradient(135deg,#f093fb,#f5576c)"><i class="fas fa-video"></i></div><div><h3 id="videosWatched">0</h3><p>Videos Watched</p><div class="progress"><div id="videosProgress"></div></div></div></div>
<div class="stat"><div class="stat-icon" style="background:linear-gradient(135deg,#4facfe,#00f2fe)"><i class="fas fa-code"></i></div><div><h3 id="challengesSolved">0</h3><p>Challenges Solved</p><div class="progress"><div id="challengesProgress"></div></div></div></div>
<div class="stat"><div class="stat-icon" style="background:linear-gradient(135deg,#43e97b,#38f9d7)"><i class="fas fa-trophy"></i></div><div><h3 id="coursesCompleted">0</h3><p>Courses Completed</p><div class="progress"><div id="coursesProgress"></div></div></div></div>
</div>
<div class="activity"><h3>Recent Activity</h3><div id="activityList"></div></div>
</div>
<div id="courses" class="page"><h2>üìö Courses</h2><div id="coursesList" class="grid"></div></div>
<div id="books" class="page"><h2>üìö Books</h2><div id="booksList" class="grid"></div></div>
<div id="videos" class="page"><h2>üé• Videos</h2><div class="filters"><button class="filter active" data-cat="all">All</button><button class="filter" data-cat="programming">Programming</button><button class="filter" data-cat="ai">AI/ML</button><button class="filter" data-cat="web">Web Dev</button></div><div id="videosList" class="grid"></div></div>
<div id="challenges" class="page"><h2>üíª Challenges</h2><div class="filters"><button class="filter active" data-diff="all">All</button><button class="filter" data-diff="easy">Easy</button><button class="filter" data-diff="medium">Medium</button><button class="filter" data-diff="hard">Hard</button></div><div id="challengesList" class="grid"></div></div>
</main>
</div>
<div id="modal" class="modal"><div class="modal-content"><span class="close">&times;</span><div id="modalBody"></div></div></div>
<script>
let state={booksRead:[],videosWatched:[],challengesSolved:[],coursesProgress:{},bookProgress:{},activity:[],currentLesson:{}};
const courses=[{id:1,title:'Full Stack Web Development',desc:'Master React, Node.js & MongoDB',img:'https://images.unsplash.com/photo-1498050108023-c5249f4df085?w=800',modules:[{id:1,title:'HTML & CSS Basics',lessons:[{id:1,title:'Introduction to HTML',type:'video',content:'dQw4w9WgXcQ',quiz:[{q:'What does HTML stand for?',options:['Hyper Text Markup Language','High Tech Modern Language','Home Tool Markup Language'],correct:0}]},{id:2,title:'CSS Styling',type:'text',content:'CSS (Cascading Style Sheets) is used to style HTML elements. Key concepts:\n\n1. Selectors: Target HTML elements\n2. Properties: Define styling rules\n3. Values: Set property values\n\nExample:\n```css\nh1 {\n  color: blue;\n  font-size: 24px;\n}\n```',quiz:[{q:'Which property changes text color?',options:['font-color','text-color','color'],correct:2}]}]},{id:2,title:'JavaScript Fundamentals',lessons:[{id:1,title:'Variables & Data Types',type:'text',content:'JavaScript variables store data values. Use let, const, or var.\n\nData Types:\n- String: "Hello"\n- Number: 42\n- Boolean: true/false\n- Array: [1,2,3]\n- Object: {name: "John"}',quiz:[{q:'Which keyword creates a constant?',options:['var','let','const'],correct:2}]},{id:2,title:'Functions',type:'code',content:'// Write a function that adds two numbers\nfunction add(a, b) {\n  return a + b;\n}\n\nconsole.log(add(5, 3)); // Should output 8',testCases:[{input:'add(5,3)',expected:'8'},{input:'add(10,20)',expected:'30'}]}]}]},{id:2,title:'Machine Learning & AI',desc:'Learn ML with Python & TensorFlow',img:'https://images.unsplash.com/photo-1555255707-c07966088b7b?w=800',modules:[{id:1,title:'Python Basics',lessons:[{id:1,title:'Python Syntax',type:'text',content:'Python is a high-level programming language.\n\nKey Features:\n- Easy to read syntax\n- Dynamic typing\n- Extensive libraries\n\nExample:\n```python\nname = "Alice"\nprint(f"Hello, {name}!")\n```',quiz:[{q:'What is Python?',options:['A snake','A programming language','A framework'],correct:1}]}]},{id:2,title:'Machine Learning Intro',lessons:[{id:1,title:'What is ML?',type:'video',content:'3cNez-OASIc',quiz:[{q:'ML is a subset of?',options:['AI','Data Science','Statistics'],correct:0}]}]}]},{id:3,title:'Cloud Computing AWS',desc:'Master AWS cloud infrastructure',img:'https://images.unsplash.com/photo-1451187580459-43490279c0fa?w=800',modules:[{id:1,title:'AWS Fundamentals',lessons:[{id:1,title:'What is Cloud Computing?',type:'text',content:'Cloud computing delivers computing services over the internet.\n\nTypes:\n1. IaaS - Infrastructure as a Service\n2. PaaS - Platform as a Service\n3. SaaS - Software as a Service\n\nBenefits:\n- Scalability\n- Cost-effective\n- Reliability',quiz:[{q:'What does IaaS stand for?',options:['Internet as a Service','Infrastructure as a Service','Integration as a Service'],correct:1}]}]}]},{id:4,title:'Cybersecurity Essentials',desc:'Ethical hacking & penetration testing',img:'https://images.unsplash.com/photo-1550751827-4bd374c3f58b?w=800',modules:[{id:1,title:'Security Basics',lessons:[{id:1,title:'Introduction to Cybersecurity',type:'text',content:'Cybersecurity protects systems, networks, and data from digital attacks.\n\nKey Concepts:\n- Confidentiality\n- Integrity\n- Availability (CIA Triad)\n\nCommon Threats:\n- Malware\n- Phishing\n- SQL Injection',quiz:[{q:'What does CIA stand for in security?',options:['Central Intelligence Agency','Confidentiality, Integrity, Availability','Computer Internet Access'],correct:1}]}]}]},{id:5,title:'Mobile App Development',desc:'Build iOS & Android apps',img:'https://images.unsplash.com/photo-1512941937669-90a1b58e7e9c?w=800',modules:[{id:1,title:'React Native Basics',lessons:[{id:1,title:'Introduction to React Native',type:'text',content:'React Native lets you build mobile apps using JavaScript and React.\n\nFeatures:\n- Cross-platform (iOS & Android)\n- Hot reloading\n- Native performance\n\nBasic Component:\n```jsx\nimport React from "react";\nimport { View, Text } from "react-native";\n\nconst App = () => (\n  <View>\n    <Text>Hello World!</Text>\n  </View>\n);\n```',quiz:[{q:'React Native is used for?',options:['Web development','Mobile development','Desktop apps'],correct:1}]}]}]}];

const books=[{id:1,title:'Clean Code',author:'Robert Martin',pages:464,icon:'üìò',chapters:['Meaningful Names','Functions','Comments','Formatting','Objects and Data Structures']},{id:2,title:'Pragmatic Programmer',author:'Andrew Hunt',pages:352,icon:'üìó',chapters:['A Pragmatic Philosophy','A Pragmatic Approach','Basic Tools','Pragmatic Paranoia']},{id:3,title:'Design Patterns',author:'Gang of Four',pages:416,icon:'üìï',chapters:['Introduction','Creational Patterns','Structural Patterns','Behavioral Patterns']},{id:4,title:"You Don't Know JS",author:'Kyle Simpson',pages:278,icon:'üìô',chapters:['Into Programming','Into JavaScript','Scope & Closures','this & Object Prototypes']},{id:5,title:'Eloquent JavaScript',author:'Marijn Haverbeke',pages:472,icon:'üìò',chapters:['Values, Types, and Operators','Program Structure','Functions','Data Structures']},{id:6,title:'Intro to Algorithms',author:'CLRS',pages:1312,icon:'üìó',chapters:['Foundations','Sorting and Order Statistics','Data Structures','Advanced Design']},{id:7,title:'Cracking Coding Interview',author:'Gayle McDowell',pages:687,icon:'üìï',chapters:['Arrays and Strings','Linked Lists','Stacks and Queues','Trees and Graphs']},{id:8,title:'Art of Computer Programming',author:'Donald Knuth',pages:672,icon:'üìô',chapters:['Basic Algorithms','Information Structures','Random Numbers','Arithmetic']},{id:9,title:'Head First Design Patterns',author:'Eric Freeman',pages:694,icon:'üìò',chapters:['Strategy Pattern','Observer Pattern','Decorator Pattern','Factory Pattern']},{id:10,title:'Refactoring',author:'Martin Fowler',pages:448,icon:'üìó',chapters:['Refactoring Principles','Code Smells','Building Tests','Moving Features']},{id:11,title:'Code Complete',author:'Steve McConnell',pages:960,icon:'üìï',chapters:['Software Construction','Design in Construction','Variables','Statements']},{id:12,title:'Mythical Man-Month',author:'Fred Brooks',pages:336,icon:'üìô',chapters:['The Tar Pit','The Mythical Man-Month','The Surgical Team','Aristocracy']},{id:13,title:'Soft Skills',author:'John Sonmez',pages:504,icon:'üìò',chapters:['Career','Marketing Yourself','Learning','Productivity']},{id:14,title:'Clean Coder',author:'Robert Martin',pages:256,icon:'üìó',chapters:['Professionalism','Saying No','Saying Yes','Coding']},{id:15,title:'Legacy Code',author:'Michael Feathers',pages:464,icon:'üìï',chapters:['Changing Software','Working with Feedback','Sensing and Separation','Seams']},{id:16,title:'Domain-Driven Design',author:'Eric Evans',pages:560,icon:'üìô',chapters:['Putting the Domain Model to Work','Building Blocks','Refactoring Toward Deeper Insight']},{id:17,title:'Continuous Delivery',author:'Jez Humble',pages:512,icon:'üìò',chapters:['Foundations','Deployment Pipeline','Build and Deployment','Testing Strategy']},{id:18,title:'Phoenix Project',author:'Gene Kim',pages:432,icon:'üìó',chapters:['Parts Unlimited','The First Way','The Second Way','The Third Way']},{id:19,title:'Site Reliability Engineering',author:'Google',pages:552,icon:'üìï',chapters:['Introduction','Principles','Practices','Management']},{id:20,title:'Data-Intensive Applications',author:'Martin Kleppmann',pages:616,icon:'üìô',chapters:['Foundations of Data Systems','Distributed Data','Derived Data']}];

const videos=[{id:1,title:'JavaScript Complete Course',cat:'programming',dur:'3:45:20',vid:'PkZNo7MFNFg'},{id:2,title:'React Tutorial',cat:'web',dur:'2:30:15',vid:'SqcY0GlETPk'},{id:3,title:'Python Full Course',cat:'programming',dur:'4:26:52',vid:'rfscVS0vtbw'},{id:4,title:'Machine Learning',cat:'ai',dur:'11:00:00',vid:'PPLop4L2eGk'},{id:5,title:'Data Structures',cat:'programming',dur:'9:18:36',vid:'RBSGKlAvoiM'},{id:6,title:'Node.js & Express',cat:'web',dur:'8:16:48',vid:'Oe421EPjeBE'},{id:7,title:'Deep Learning',cat:'ai',dur:'5:30:00',vid:'CS4cs9xVecg'},{id:8,title:'SQL Tutorial',cat:'programming',dur:'4:20:23',vid:'HXV3zeQKqGY'},{id:9,title:'Git & GitHub',cat:'programming',dur:'1:08:41',vid:'RGOj5yH7evk'},{id:10,title:'Docker Tutorial',cat:'web',dur:'3:10:23',vid:'fqMOX6JJhGo'}];

const challenges=[
{id:1,title:'Two Sum Problem',diff:'easy',category:'coding',type:'Algorithm',language:'JavaScript',desc:'Find two numbers in an array that add up to a specific target.',fullDesc:'Given an array of integers nums and an integer target, return the indices of the two numbers that add up to the target.\n\nYou may assume that each input has exactly one solution, and you may not use the same element twice.',pts:10,
examples:[{input:'nums = [2,7,11,15], target = 9',output:'[0,1]',explanation:'Because nums[0] + nums[1] == 9, we return [0, 1]'},{input:'nums = [3,2,4], target = 6',output:'[1,2]',explanation:'nums[1] + nums[2] = 2 + 4 = 6'}],
constraints:['2 <= nums.length <= 10^4','-10^9 <= nums[i] <= 10^9','-10^9 <= target <= 10^9','Only one valid answer exists'],
hints:['Try using a hash map to store numbers you\'ve seen','For each number, check if (target - number) exists in the map','Remember to return the indices, not the values'],
template:'function twoSum(nums, target) {\n  // Write your solution here\n  // Return an array of two indices\n  \n}',
tests:[{input:'twoSum([2,7,11,15], 9)',expected:'[0,1]'},{input:'twoSum([3,2,4], 6)',expected:'[1,2]'},{input:'twoSum([3,3], 6)',expected:'[0,1]'}],
solution:'function twoSum(nums, target) {\n  const map = new Map();\n  for (let i = 0; i < nums.length; i++) {\n    const complement = target - nums[i];\n    if (map.has(complement)) {\n      return [map.get(complement), i];\n    }\n    map.set(nums[i], i);\n  }\n  return [];\n}'},

{id:2,title:'Design a REST API',diff:'medium',category:'design',type:'System Design',language:'N/A - Conceptual',desc:'Design a RESTful API for a blog platform with posts, comments, and users.',fullDesc:'You need to design a REST API for a blog platform. The system should support:\n\n1. Users can create, read, update, and delete blog posts\n2. Users can comment on posts\n3. Users can like posts\n4. Authentication and authorization\n\nDefine the endpoints, HTTP methods, request/response formats, and status codes.',pts:25,
examples:[{input:'Endpoint for getting all posts',output:'GET /api/posts',explanation:'Returns a list of all blog posts with pagination'},{input:'Endpoint for creating a comment',output:'POST /api/posts/{postId}/comments',explanation:'Creates a new comment on a specific post'}],
constraints:['Follow REST principles','Use proper HTTP methods (GET, POST, PUT, DELETE)','Include authentication','Handle errors with appropriate status codes','Support pagination for lists'],
hints:['Think about resource hierarchy (posts -> comments)','Use plural nouns for collections','Include version in API path (e.g., /api/v1/)','Consider what data should be in URL vs request body'],
template:'Design your API endpoints below:\n\n# User Endpoints\n\n\n# Post Endpoints\n\n\n# Comment Endpoints\n\n\n# Authentication\n\n',
solution:'# User Endpoints\nPOST /api/v1/auth/register - Register new user\nPOST /api/v1/auth/login - Login user\nGET /api/v1/users/{userId} - Get user profile\nPUT /api/v1/users/{userId} - Update user profile\n\n# Post Endpoints\nGET /api/v1/posts - Get all posts (with pagination)\nGET /api/v1/posts/{postId} - Get specific post\nPOST /api/v1/posts - Create new post (requires auth)\nPUT /api/v1/posts/{postId} - Update post (requires auth)\nDELETE /api/v1/posts/{postId} - Delete post (requires auth)\nPOST /api/v1/posts/{postId}/like - Like a post\n\n# Comment Endpoints\nGET /api/v1/posts/{postId}/comments - Get all comments for a post\nPOST /api/v1/posts/{postId}/comments - Create comment (requires auth)\nPUT /api/v1/comments/{commentId} - Update comment (requires auth)\nDELETE /api/v1/comments/{commentId} - Delete comment (requires auth)'},

{id:3,title:'SQL Injection Prevention',diff:'medium',category:'security',type:'Security',language:'SQL/JavaScript',desc:'Identify and fix SQL injection vulnerabilities in code.',fullDesc:'You are given a vulnerable login function that is susceptible to SQL injection attacks. Your task is to:\n\n1. Identify the vulnerability\n2. Explain how an attacker could exploit it\n3. Provide a secure version of the code\n4. Explain the security measures you implemented',pts:25,
examples:[{input:'Vulnerable code with string concatenation',output:'Secure code using parameterized queries',explanation:'Prevents SQL injection by treating user input as data, not executable code'}],
constraints:['Must prevent SQL injection','Should use parameterized queries or prepared statements','Validate and sanitize user input','Follow principle of least privilege'],
hints:['Never concatenate user input directly into SQL queries','Use parameterized queries or prepared statements','Validate input on both client and server side','Consider using an ORM (Object-Relational Mapping) library'],
template:'// VULNERABLE CODE:\nfunction login(username, password) {\n  const query = "SELECT * FROM users WHERE username = \'" + username + "\' AND password = \'" + password + "\'";\n  // Execute query...\n}\n\n// YOUR SECURE VERSION:\n// Write your secure implementation here\n\n\n// EXPLANATION:\n// Explain what was wrong and how you fixed it\n',
solution:'// SECURE VERSION:\nfunction login(username, password) {\n  // Using parameterized query (example with Node.js)\n  const query = "SELECT * FROM users WHERE username = ? AND password = ?";\n  \n  // Hash the password before comparing\n  const hashedPassword = hashPassword(password);\n  \n  // Execute with parameters\n  db.query(query, [username, hashedPassword], (err, results) => {\n    if (err) throw err;\n    // Handle results...\n  });\n}\n\n// EXPLANATION:\n// 1. Used parameterized queries (?) instead of string concatenation\n// 2. Parameters are treated as data, not executable SQL\n// 3. Passwords should be hashed (bcrypt, argon2)\n// 4. This prevents attacks like: username = "admin\'--" which would bypass authentication'},

{id:4,title:'Network Troubleshooting',diff:'medium',category:'systems',type:'DevOps/Networking',language:'N/A - Practical',desc:'Diagnose and resolve a network connectivity issue.',fullDesc:'A web application cannot connect to its database server. Users are getting "Connection Timeout" errors.\n\nGiven Information:\n- Web server IP: 192.168.1.10\n- Database server IP: 192.168.1.20\n- Database port: 5432\n- Both servers are on the same network\n- The issue started after a firewall update\n\nYour task:\n1. List the steps you would take to diagnose the issue\n2. Identify potential causes\n3. Provide solutions for each potential cause',pts:20,
examples:[{input:'Step 1: Check basic connectivity',output:'ping 192.168.1.20',explanation:'Verify if the database server is reachable'},{input:'Step 2: Check port connectivity',output:'telnet 192.168.1.20 5432 or nc -zv 192.168.1.20 5432',explanation:'Verify if the specific port is accessible'}],
constraints:['Follow systematic troubleshooting approach','Check from simple to complex','Document each step','Consider multiple potential causes'],
hints:['Start with basic connectivity (ping)','Check if the port is open (telnet/nc)','Verify firewall rules','Check database service status','Review recent changes'],
template:'# Troubleshooting Steps:\n\n1. \n\n2. \n\n3. \n\n# Potential Causes:\n\n1. \n\n2. \n\n3. \n\n# Solutions:\n\n1. \n\n2. \n\n3. \n',
solution:'# Troubleshooting Steps:\n\n1. Ping database server: ping 192.168.1.20\n2. Check port connectivity: telnet 192.168.1.20 5432\n3. Check firewall rules on both servers\n4. Verify database service is running: systemctl status postgresql\n5. Check database logs: tail -f /var/log/postgresql/postgresql.log\n6. Verify network configuration: ip addr, ip route\n7. Check SELinux/AppArmor policies\n\n# Potential Causes:\n\n1. Firewall blocking port 5432\n2. Database service not running\n3. Network misconfiguration\n4. SELinux/AppArmor blocking connection\n5. Database listening on wrong interface\n\n# Solutions:\n\n1. Firewall: sudo ufw allow 5432/tcp or iptables -A INPUT -p tcp --dport 5432 -j ACCEPT\n2. Start database: sudo systemctl start postgresql\n3. Check postgresql.conf: listen_addresses = \'*\' or specific IP\n4. Update pg_hba.conf to allow web server IP\n5. Disable SELinux temporarily to test: setenforce 0'},

{id:5,title:'UI/UX Design Challenge',diff:'medium',category:'design',type:'UI/UX Design',language:'N/A - Design',desc:'Design a mobile app interface for a food delivery service.',fullDesc:'Design the main screens for a food delivery mobile app. Your design should include:\n\n1. Home screen with restaurant listings\n2. Restaurant detail page with menu\n3. Cart/Checkout screen\n4. Order tracking screen\n\nFor each screen, describe:\n- Layout and components\n- User interactions\n- Navigation flow\n- Key design decisions',pts:25,
examples:[{input:'Home Screen',output:'Search bar at top, category filters, restaurant cards with image, name, rating, delivery time',explanation:'Prioritizes search and discovery'},{input:'Restaurant Detail',output:'Hero image, restaurant info, menu categories, item cards with add button',explanation:'Clear menu browsing with easy ordering'}],
constraints:['Mobile-first design','Easy navigation','Clear call-to-action buttons','Accessible design','Consider loading states and errors'],
hints:['Think about user journey from discovery to order','Use familiar patterns (bottom navigation, cards)','Show important info upfront (price, delivery time)','Make adding items to cart obvious','Provide order status updates'],
template:'# Screen 1: Home Screen\n\nLayout:\n\n\nComponents:\n\n\nInteractions:\n\n\n# Screen 2: Restaurant Detail\n\nLayout:\n\n\nComponents:\n\n\nInteractions:\n\n\n# Screen 3: Cart/Checkout\n\nLayout:\n\n\nComponents:\n\n\nInteractions:\n\n\n# Screen 4: Order Tracking\n\nLayout:\n\n\nComponents:\n\n\nInteractions:\n\n',
solution:'# Screen 1: Home Screen\n\nLayout:\n- Top: Search bar + Location selector\n- Below: Horizontal scrolling category chips\n- Main: Vertical list of restaurant cards\n- Bottom: Navigation bar (Home, Search, Orders, Profile)\n\nComponents:\n- Search bar with icon\n- Category filters (Pizza, Burger, Asian, etc.)\n- Restaurant card: Image, Name, Rating (stars), Cuisine type, Delivery time, Delivery fee\n- Bottom nav with icons\n\nInteractions:\n- Tap search -> Search screen\n- Tap category -> Filter restaurants\n- Tap restaurant card -> Restaurant detail\n- Pull to refresh\n\n# Screen 2: Restaurant Detail\n\nLayout:\n- Top: Hero image with back button\n- Below: Restaurant name, rating, delivery info\n- Tabs: Menu, Info, Reviews\n- Menu: Category sections with item cards\n- Bottom: View Cart button (if items added)\n\nComponents:\n- Hero image (full width)\n- Info section: Name, rating, delivery time, minimum order\n- Menu categories (sticky headers)\n- Item cards: Image, name, description, price, + button\n- Floating cart button\n\nInteractions:\n- Tap + button -> Add to cart (show animation)\n- Tap item -> Item detail modal\n- Swipe between tabs\n- Tap cart -> Checkout screen\n\n# Screen 3: Cart/Checkout\n\nLayout:\n- Top: Back button + "Your Order"\n- Item list with quantity controls\n- Delivery address section\n- Payment method section\n- Price breakdown\n- Bottom: Place Order button\n\nComponents:\n- Item rows: Name, quantity (-/+), price\n- Address card with edit button\n- Payment method selector\n- Price summary: Subtotal, delivery fee, taxes, total\n- Large CTA button\n\nInteractions:\n- +/- to adjust quantity\n- Tap address -> Edit address\n- Tap payment -> Select payment method\n- Tap Place Order -> Confirm and go to tracking\n\n# Screen 4: Order Tracking\n\nLayout:\n- Top: Order status banner\n- Map showing delivery location\n- Timeline of order stages\n- Driver info (if assigned)\n- Bottom: Contact buttons\n\nComponents:\n- Status banner: "Preparing your order"\n- Interactive map\n- Progress timeline: Confirmed -> Preparing -> On the way -> Delivered\n- Driver card: Photo, name, rating, vehicle\n- Contact buttons: Call restaurant, Call driver\n\nInteractions:\n- Real-time status updates\n- Map updates with driver location\n- Tap driver -> Driver profile\n- Tap contact -> Call/message\n- Push notifications for status changes'}
];

function load(){const s=localStorage.getItem('techMastery');if(s)state=JSON.parse(s)}
function save(){localStorage.setItem('techMastery',JSON.stringify(state))}
function addActivity(t,txt,icon,grad){state.activity.unshift({type:t,text:txt,icon,grad,time:new Date().toISOString()});if(state.activity.length>10)state.activity.pop();save();updateDash()}
function updateDash(){document.getElementById('booksRead').textContent=state.booksRead.length;document.getElementById('videosWatched').textContent=state.videosWatched.length;document.getElementById('challengesSolved').textContent=state.challengesSolved.length;const c=Object.values(state.coursesProgress).filter(p=>p===100).length;document.getElementById('coursesCompleted').textContent=c;document.getElementById('booksProgress').style.width=`${state.booksRead.length/20*100}%`;document.getElementById('videosProgress').style.width=`${state.videosWatched.length/100*100}%`;document.getElementById('challengesProgress').style.width=`${state.challengesSolved.length/500*100}%`;document.getElementById('coursesProgress').style.width=`${c/5*100}%`;const al=document.getElementById('activityList');al.innerHTML=state.activity.length?state.activity.map(a=>`<div style="display:flex;gap:1rem;padding:1rem;background:rgba(255,255,255,.05);border-radius:12px;margin-bottom:1rem"><div style="width:40px;height:40px;border-radius:8px;background:${a.grad};display:flex;align-items:center;justify-content:center"><i class="fas fa-${a.icon}"></i></div><div><h4>${a.text}</h4><p style="color:rgba(255,255,255,.5);font-size:.85rem">${new Date(a.time).toLocaleString()}</p></div></div>`).join(''):'<p style="text-align:center;color:rgba(255,255,255,.5);padding:2rem">No activity yet. Start learning!</p>'}

function renderCourses(){document.getElementById('coursesList').innerHTML=courses.map(c=>{const progress=state.coursesProgress[c.id]||{completed:0,total:c.modules.reduce((sum,m)=>sum+m.lessons.length,0)};const pct=Math.round((progress.completed/progress.total)*100)||0;return`<div class="card" onclick="openCourse(${c.id})"><img src="${c.img}" style="width:100%;height:200px;object-fit:cover;border-radius:12px;margin-bottom:1rem"><h3>${c.title}</h3><p style="color:rgba(255,255,255,.7);margin:.5rem 0">${c.desc}</p><p style="font-size:.85rem;color:rgba(255,255,255,.6)"><i class="fas fa-book"></i> ${c.modules.length} modules ‚Ä¢ ${progress.total} lessons</p><div style="margin-top:1rem"><p style="font-size:.85rem;margin-bottom:.5rem">Progress: ${progress.completed}/${progress.total} lessons (${pct}%)</p><div class="progress"><div style="width:${pct}%"></div></div></div></div>`}).join('')}

function openCourse(cid){const c=courses.find(x=>x.id===cid);if(!state.coursesProgress[cid]){state.coursesProgress[cid]={completed:0,total:c.modules.reduce((sum,m)=>sum+m.lessons.length,0),lessons:{}}}const prog=state.coursesProgress[cid];const m=document.getElementById('modal');const b=document.getElementById('modalBody');b.innerHTML=`<h2>${c.title}</h2><p style="margin:1rem 0;color:rgba(255,255,255,.7)">${c.desc}</p><p>Progress: ${prog.completed}/${prog.total} lessons completed</p><div class="progress" style="margin:1rem 0"><div style="width:${Math.round((prog.completed/prog.total)*100)}%"></div></div><div class="module-list">${c.modules.map(mod=>`<div class="module-item"><div class="module-header"><h3><i class="fas fa-folder"></i> ${mod.title}</h3><span>${mod.lessons.filter(l=>prog.lessons[l.id]).length}/${mod.lessons.length} lessons</span></div><div style="margin-top:1rem">${mod.lessons.map(les=>`<div onclick="openLesson(${cid},${mod.id},${les.id})" style="padding:.75rem;margin:.5rem 0;background:rgba(255,255,255,.03);border-radius:8px;cursor:pointer;border-left:3px solid ${prog.lessons[les.id]?'#43e97b':'rgba(255,255,255,.2)'}" onmouseover="this.style.background='rgba(255,255,255,.08)'" onmouseout="this.style.background='rgba(255,255,255,.03)'"><i class="fas fa-${prog.lessons[les.id]?'check-circle':'circle'}"></i> ${les.title}</div>`).join('')}</div></div>`).join('')}</div>`;m.classList.add('active')}

function openLesson(cid,mid,lid){const c=courses.find(x=>x.id===cid);const mod=c.modules.find(x=>x.id===mid);const les=mod.lessons.find(x=>x.id===lid);const b=document.getElementById('modalBody');let content='';if(les.type==='video'){content=`<h2>${les.title}</h2><iframe src="https://www.youtube.com/embed/${les.content}?modestbranding=1&rel=0" allow="accelerometer;autoplay;clipboard-write;encrypted-media;gyroscope;picture-in-picture" allowfullscreen></iframe>`}else if(les.type==='text'){content=`<h2>${les.title}</h2><div class="lesson-content"><pre style="white-space:pre-wrap;font-family:inherit;line-height:1.6">${les.content}</pre></div>`}else if(les.type==='code'){content=`<h2>${les.title}</h2><div class="lesson-content"><pre style="white-space:pre-wrap;font-family:monospace;background:rgba(0,0,0,.5);padding:1rem;border-radius:8px">${les.content}</pre></div><h4 style="margin-top:2rem">Test Cases:</h4>${les.testCases.map(t=>`<div class="test-case"><strong>Input:</strong> ${t.input}<br><strong>Expected:</strong> ${t.expected}</div>`).join('')}`}
if(les.quiz){content+=`<div style="margin-top:2rem"><h3>Quiz</h3>${les.quiz.map((q,qi)=>`<div style="margin:1.5rem 0"><p style="font-weight:600;margin-bottom:1rem">${qi+1}. ${q.q}</p>${q.options.map((opt,oi)=>`<div class="quiz-option" onclick="checkQuiz(${cid},${mid},${lid},${qi},${oi},${q.correct})">${opt}</div>`).join('')}</div>`).join('')}</div>`}
content+=`<button class="btn btn-success" onclick="completeLesson(${cid},${mid},${lid})">Mark Complete & Continue</button><button class="btn btn-primary" onclick="openCourse(${cid})">Back to Course</button>`;b.innerHTML=content}

function checkQuiz(cid,mid,lid,qi,selected,correct){const opts=document.querySelectorAll('.quiz-option');const startIdx=qi*correct;opts.forEach((opt,i)=>{if(i>=startIdx&&i<startIdx+3){opt.style.pointerEvents='none';if(i-startIdx===selected){opt.classList.add(selected===correct?'correct':'wrong')}if(i-startIdx===correct){opt.classList.add('correct')}}})}

function completeLesson(cid,mid,lid){if(!state.coursesProgress[cid].lessons[lid]){state.coursesProgress[cid].lessons[lid]=true;state.coursesProgress[cid].completed++;const c=courses.find(x=>x.id===cid);const mod=c.modules.find(x=>x.id===mid);const les=mod.lessons.find(x=>x.id===lid);addActivity('course',`Completed: ${les.title}`,'check','linear-gradient(135deg,#43e97b,#38f9d7)');save()}const c=courses.find(x=>x.id===cid);const mod=c.modules.find(x=>x.id===mid);const nextLesson=mod.lessons.find(l=>l.id===lid+1);if(nextLesson){openLesson(cid,mid,nextLesson.id)}else{const nextMod=c.modules.find(m=>m.id===mid+1);if(nextMod&&nextMod.lessons[0]){openLesson(cid,nextMod.id,nextMod.lessons[0].id)}else{openCourse(cid)}}renderCourses();updateDash()}

function renderBooks(){document.getElementById('booksList').innerHTML=books.map(b=>{const p=state.bookProgress[b.id]||{current:0,total:b.chapters.length};const pct=Math.round((p.current/p.total)*100);const done=state.booksRead.includes(b.id);return`<div class="card" onclick="openBook(${b.id})"><div style="font-size:3rem;margin-bottom:1rem">${b.icon}</div><h3>${b.title}</h3><p style="color:rgba(255,255,255,.6);margin:.5rem 0">${b.author}</p><p style="font-size:.85rem;color:rgba(255,255,255,.5)">${b.pages} pages ‚Ä¢ ${b.chapters.length} chapters</p><div style="margin-top:1rem"><p style="font-size:.85rem;margin-bottom:.5rem">Chapter ${p.current}/${p.total} (${pct}%)</p><div class="progress"><div style="width:${pct}%"></div></div></div>${done?'<p style="color:#43e97b;margin-top:.5rem"><i class="fas fa-check"></i> Completed</p>':''}</div>`}).join('')}

function openBook(id){const b=books.find(x=>x.id===id);if(!state.bookProgress[id]){state.bookProgress[id]={current:0,total:b.chapters.length}}const p=state.bookProgress[id];const m=document.getElementById('modal');const bd=document.getElementById('modalBody');bd.innerHTML=`<h2>${b.icon} ${b.title}</h2><p style="margin:1rem 0;color:rgba(255,255,255,.7)">by ${b.author} ‚Ä¢ ${b.pages} pages</p><p>Chapter ${p.current}/${p.total}</p><div class="progress" style="margin:1rem 0"><div style="width:${Math.round((p.current/p.total)*100)}%"></div></div><h3 style="margin:2rem 0 1rem">Chapters:</h3>${b.chapters.map((ch,i)=>`<div style="padding:1rem;margin:.5rem 0;background:rgba(255,255,255,.05);border-radius:8px;border-left:3px solid ${i<p.current?'#43e97b':i===p.current?'#667eea':'rgba(255,255,255,.2)'}"><strong>Chapter ${i+1}:</strong> ${ch} ${i<p.current?'<i class="fas fa-check-circle" style="color:#43e97b;float:right"></i>':i===p.current?'<span style="color:#667eea;float:right">Current</span>':''}</div>`).join('')}<iframe src="https://www.africau.edu/images/default/sample.pdf"></iframe><button class="btn btn-success" onclick="nextChapter(${id})">Complete Chapter & Continue</button>`;m.classList.add('active')}

function nextChapter(id){const b=books.find(x=>x.id===id);if(state.bookProgress[id].current<state.bookProgress[id].total){state.bookProgress[id].current++;addActivity('book',`Read chapter in ${b.title}`,'book','linear-gradient(135deg,#667eea,#764ba2)');if(state.bookProgress[id].current===state.bookProgress[id].total&&!state.booksRead.includes(id)){state.booksRead.push(id);addActivity('book',`Finished: ${b.title}`,'trophy','linear-gradient(135deg,#43e97b,#38f9d7)')}save();openBook(id);renderBooks();updateDash()}}

let vFilter='all';function renderVideos(f='all'){vFilter=f;const filtered=f==='all'?videos:videos.filter(v=>v.cat===f);document.getElementById('videosList').innerHTML=filtered.map(v=>{const watched=state.videosWatched.includes(v.id);return`<div class="card" onclick="openVideo(${v.id})"><img src="https://img.youtube.com/vi/${v.vid}/maxresdefault.jpg" style="width:100%;height:180px;object-fit:cover;border-radius:12px;margin-bottom:1rem"><h3 style="font-size:1.1rem">${v.title}</h3><p style="color:rgba(255,255,255,.6);font-size:.85rem"><i class="fas fa-clock"></i> ${v.dur}</p>${watched?'<p style="color:#43e97b;margin-top:.5rem"><i class="fas fa-check"></i> Watched</p>':''}</div>`}).join('')}

function openVideo(id){const v=videos.find(x=>x.id===id);const m=document.getElementById('modal');const b=document.getElementById('modalBody');b.innerHTML=`<h2>üé• ${v.title}</h2><p style="margin:1rem 0;color:rgba(255,255,255,.7)"><i class="fas fa-clock"></i> ${v.dur}</p><iframe src="https://www.youtube.com/embed/${v.vid}?modestbranding=1&rel=0" allow="accelerometer;autoplay;clipboard-write;encrypted-media;gyroscope;picture-in-picture" allowfullscreen></iframe><button class="btn btn-success" onclick="watchVideo(${id})">Mark as Watched</button>`;m.classList.add('active')}

function watchVideo(id){if(!state.videosWatched.includes(id)){state.videosWatched.push(id);const v=videos.find(x=>x.id===id);addActivity('video',`Watched: ${v.title}`,'video','linear-gradient(135deg,#f093fb,#f5576c)')}document.getElementById('modal').classList.remove('active');renderVideos(vFilter);updateDash();save()}

let cFilter='all';function renderChallenges(f='all'){cFilter=f;const filtered=f==='all'?challenges:challenges.filter(c=>c.diff===f);document.getElementById('challengesList').innerHTML=filtered.map(c=>{const solved=state.challengesSolved.includes(c.id);return`<div class="card" onclick="openChallenge(${c.id})"><div style="display:flex;justify-content:space-between;margin-bottom:1rem"><span style="padding:.25rem .75rem;border-radius:20px;font-size:.75rem;background:rgba(${c.diff==='easy'?'67,233,123':c.diff==='medium'?'250,208,44':'245,87,108'},.2);color:${c.diff==='easy'?'#43e97b':c.diff==='medium'?'#fad02c':'#f5576c'}">${c.diff.toUpperCase()}</span>${solved?'<i class="fas fa-check-circle" style="color:#43e97b"></i>':''}</div><h3>${c.title}</h3><p style="color:rgba(255,255,255,.6);margin:.5rem 0">${c.desc}</p><div style="margin-top:1rem;display:flex;gap:1rem;flex-wrap:wrap"><span style="font-size:.85rem;color:rgba(255,255,255,.5)"><i class="fas fa-tag"></i> ${c.type}</span><span style="font-size:.85rem;color:rgba(255,255,255,.5)"><i class="fas fa-code"></i> ${c.language}</span><span style="font-size:.85rem;color:rgba(255,255,255,.5)"><i class="fas fa-star"></i> ${c.pts} pts</span></div></div>`}).join('')}

function openChallenge(id){const c=challenges.find(x=>x.id===id);const m=document.getElementById('modal');const b=document.getElementById('modalBody');
let content=`<h2>üíª ${c.title}</h2>
<div style="display:flex;gap:1rem;margin:1rem 0;flex-wrap:wrap">
<span style="padding:.5rem 1rem;border-radius:20px;background:rgba(${c.diff==='easy'?'67,233,123':c.diff==='medium'?'250,208,44':'245,87,108'},.2);color:${c.diff==='easy'?'#43e97b':c.diff==='medium'?'#fad02c':'#f5576c'}">${c.diff.toUpperCase()}</span>
<span style="padding:.5rem 1rem;border-radius:20px;background:rgba(255,255,255,.1)"><i class="fas fa-tag"></i> ${c.type}</span>
<span style="padding:.5rem 1rem;border-radius:20px;background:rgba(255,255,255,.1)"><i class="fas fa-code"></i> ${c.language}</span>
<span style="padding:.5rem 1rem;border-radius:20px;background:rgba(255,255,255,.1)"><i class="fas fa-star"></i> ${c.pts} points</span>
</div>

<div class="challenge-section">
<h3><i class="fas fa-info-circle"></i> Problem Description</h3>
<p style="line-height:1.8;white-space:pre-wrap">${c.fullDesc}</p>
</div>

<div class="challenge-section">
<h3><i class="fas fa-lightbulb"></i> Examples</h3>
${c.examples.map((ex,i)=>`<div class="example-box"><strong>Example ${i+1}:</strong>\n\nInput: ${ex.input}\nOutput: ${ex.output}\n\nExplanation: ${ex.explanation}</div>`).join('')}
</div>

<div class="challenge-section">
<h3><i class="fas fa-exclamation-triangle"></i> Constraints</h3>
<ul style="margin-left:1.5rem;line-height:2">${c.constraints.map(con=>`<li>${con}</li>`).join('')}</ul>
</div>

<div class="challenge-section">
<h3><i class="fas fa-question-circle"></i> Hints</h3>
${c.hints.map((hint,i)=>`<div class="info-box"><strong>Hint ${i+1}:</strong> ${hint}</div>`).join('')}
</div>`;

if(c.category==='coding'){
content+=`<div class="challenge-section">
<h3><i class="fas fa-keyboard"></i> Your Solution (${c.language})</h3>
<textarea id="codeInput" style="min-height:300px">${c.template}</textarea>
<div class="code-output" id="output">Click "Run Tests" to see results...</div>
</div>

<div class="challenge-section">
<h3><i class="fas fa-check-circle"></i> Test Cases</h3>
${c.tests.map((t,i)=>`<div class="test-case"><strong>Test ${i+1}:</strong><br>Input: ${t.input}<br>Expected: ${t.expected}</div>`).join('')}
</div>

<button class="btn btn-primary" onclick="runCode(${id})"><i class="fas fa-play"></i> Run Tests</button>
<button class="btn btn-success" onclick="submitChallenge(${id})"><i class="fas fa-check"></i> Submit Solution</button>
<button class="btn" style="background:rgba(255,255,255,.1)" onclick="showSolution(${id})"><i class="fas fa-eye"></i> Show Solution</button>`;
}else{
content+=`<div class="challenge-section">
<h3><i class="fas fa-pencil-alt"></i> Your Solution</h3>
<div class="info-box">This is a ${c.category} challenge. Write your solution in the text area below. Be detailed and explain your reasoning.</div>
<textarea id="codeInput" style="min-height:400px">${c.template}</textarea>
</div>

<button class="btn btn-success" onclick="submitChallenge(${id})"><i class="fas fa-check"></i> Submit Solution</button>
<button class="btn" style="background:rgba(255,255,255,.1)" onclick="showSolution(${id})"><i class="fas fa-eye"></i> Show Example Solution</button>`;
}

b.innerHTML=content;m.classList.add('active')}

function runCode(id){const c=challenges.find(x=>x.id===id);const code=document.getElementById('codeInput').value;const output=document.getElementById('output');let results='';let passed=0;try{eval(code);c.tests.forEach((t,i)=>{try{const result=eval(t.input);const testPassed=JSON.stringify(result)===t.expected;if(testPassed)passed++;results+=`‚úì Test ${i+1}: ${testPassed?'PASSED ‚úì':'FAILED ‚úó'}\n  Input: ${t.input}\n  Expected: ${t.expected}\n  Got: ${JSON.stringify(result)}\n\n`}catch(e){results+=`‚úó Test ${i+1}: ERROR\n  ${e.message}\n\n`}});results=`Results: ${passed}/${c.tests.length} tests passed\n\n${results}`;output.textContent=results;if(passed===c.tests.length){output.textContent+='\nüéâ All tests passed! You can now submit your solution.'}}catch(e){output.textContent=`Syntax Error:\n${e.message}\n\nPlease fix the error and try again.`}}

function submitChallenge(id){const code=document.getElementById('codeInput').value;if(!code||code.trim()===challenges.find(x=>x.id===id).template.trim()){alert('Please write your solution before submitting!');return}if(!state.challengesSolved.includes(id)){state.challengesSolved.push(id);const c=challenges.find(x=>x.id===id);addActivity('challenge',`Solved: ${c.title}`,'code','linear-gradient(135deg,#4facfe,#00f2fe)');save()}document.getElementById('modal').classList.remove('active');renderChallenges(cFilter);updateDash();alert('üéâ Challenge completed! +'+challenges.find(x=>x.id===id).pts+' points earned!')}

function showSolution(id){const c=challenges.find(x=>x.id===id);const m=document.getElementById('modal');const b=document.getElementById('modalBody');b.innerHTML=`<h2>üí° Solution: ${c.title}</h2>
<div class="warning-box"><strong>‚ö†Ô∏è Spoiler Alert!</strong><br>This is the example solution. Try to understand the approach and logic, then close this and try implementing it yourself.</div>
<div class="challenge-section">
<h3>Solution Code:</h3>
<pre style="background:rgba(0,0,0,.5);padding:1.5rem;border-radius:8px;overflow-x:auto;white-space:pre-wrap;font-family:monospace;line-height:1.6">${c.solution}</pre>
</div>
<button class="btn btn-primary" onclick="openChallenge(${id})">Back to Challenge</button>
<button class="btn" style="background:rgba(255,255,255,.1)" onclick="copySolution(${id})"><i class="fas fa-copy"></i> Copy Solution</button>`;m.classList.add('active')}

function copySolution(id){const c=challenges.find(x=>x.id===id);navigator.clipboard.writeText(c.solution);alert('Solution copied to clipboard!')}

document.querySelectorAll('.nav-item').forEach(i=>i.addEventListener('click',e=>{e.preventDefault();const p=i.dataset.page;document.querySelectorAll('.nav-item').forEach(n=>n.classList.remove('active'));i.classList.add('active');document.querySelectorAll('.page').forEach(pg=>pg.classList.remove('active'));document.getElementById(p).classList.add('active')}));
document.querySelector('.close').addEventListener('click',()=>document.getElementById('modal').classList.remove('active'));
window.addEventListener('click',e=>{if(e.target.id==='modal')e.target.classList.remove('active')});
document.querySelectorAll('#videos .filter').forEach(b=>b.addEventListener('click',()=>{document.querySelectorAll('#videos .filter').forEach(x=>x.classList.remove('active'));b.classList.add('active');renderVideos(b.dataset.cat)}));
document.querySelectorAll('#challenges .filter').forEach(b=>b.addEventListener('click',()=>{document.querySelectorAll('#challenges .filter').forEach(x=>x.classList.remove('active'));b.classList.add('active');renderChallenges(b.dataset.diff)}));
load();updateDash();renderCourses();renderBooks();renderVideos();renderChallenges();
</script>
</body>
</html>